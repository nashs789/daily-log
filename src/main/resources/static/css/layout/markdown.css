
/* ===== Markdown Template (기존 코드) ===== */
.mdtpl { background:#fff; border:1px solid #eee; border-radius:12px; }
.mdtpl__toolbar{ display:flex; gap:8px; padding:12px; border-bottom:1px solid #eee; align-items:center; }
.mdtpl__name{ flex:0 0 240px; height:36px; padding:0 10px; border:1px solid #ddd; border-radius:8px; }
.mdtpl__btn{ height:36px; padding:0 12px; border:1px solid #ddd; background:#f8f9fb; border-radius:8px; cursor:pointer; }
.mdtpl__spacer{ flex:1; }
.mdtpl__grid{ display:grid; grid-template-columns: 1fr 1fr; gap:0; }
.mdtpl__left{ padding:12px; border-right:1px solid #eee; }
.mdtpl__right{ padding:12px; }
.mdtpl__label{ font-size:12px; color:#666; display:block; margin-bottom:6px; }
.mdtpl__text{ width:100%; resize:vertical; border:1px solid #ddd; border-radius:8px; padding:10px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
.mdtpl__params{ margin-top:12px; }
.mdtpl__paramsHead{ display:flex; align-items:baseline; gap:8px; margin-bottom:6px; }
.mdtpl__hint{ color:#999; }
.mdtpl__paramList{ display:grid; grid-template-columns: 1fr 2fr; gap:8px 12px; align-items:center; }
.mdtpl__paramLabel{ color:#444; font-weight:600; }
.mdtpl__paramInput{ height:34px; border:1px solid #ddd; border-radius:8px; padding:0 10px; }
.mdtpl__previewHead{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
.mdtpl__preview{ min-height:200px; border:1px solid #ddd; border-radius:8px; padding:14px; background:#fafafa; overflow:auto; }

/* 반응형 */
@media (max-width: 1023px){
    .mdtpl__grid{ grid-template-columns: 1fr; }
    .mdtpl__left{ border-right:none; border-bottom:1px solid #eee; }
}

/* 기본 마크다운 스타일 (간단) */
.markdown-body h1,h2,h3{ margin: 14px 0 8px; font-weight:700; }
.markdown-body p, .markdown-body li{ line-height:1.6; }
.markdown-body ul{ padding-left: 1.2rem; }
.markdown-body blockquote{ margin: 8px 0; padding: 6px 10px; border-left: 4px solid #d0d7de; color:#57606a; background:#f6f8fa; border-radius:4px; }
.markdown-body code{ background:#f6f8fa; border:1px solid #d0d7de; border-radius:4px; padding:2px 4px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }

/* 1) 그리드 칼럼이 내용 때문에 밀리지 않도록 */
.mdtpl__grid{
    display: grid;
    grid-template-columns: minmax(0, 1fr) minmax(0, 1fr); /* ← 핵심 */
    gap: 16px;
}

/* 2) 칸 자체가 줄어들 수 있게 최소 폭 0 보장 */
.mdtpl__left,
.mdtpl__right{ min-width: 0; }

/* 3) 박스 크기 계산 안정화 (패딩/보더 포함) */
.mdtpl, .mdtpl *{ box-sizing: border-box; }

/* 4) 텍스트 영역이 오른쪽으로 삐져나가지 않도록 */
.mdtpl__text{
    display: block;
    width: 100%;
    max-width: 100%;
    resize: vertical; /* 가로 리사이즈 금지 */
}

/* 5) 미리보기 박스도 컨테이너 범위 내에서만 스크롤 */
.mdtpl__preview{
    max-width: 100%;
    overflow: auto;
    word-wrap: break-word;
    overflow-wrap: anywhere;
}

/* 6) 코드/프리 포맷 텍스트 줄바꿈 */
.markdown-body pre,
.markdown-body code{
    white-space: pre-wrap;
    word-break: break-word;
}

/* 7) 모바일에서는 단일 칼럼 */
@media (max-width: 1023px){
    .mdtpl__grid{ grid-template-columns: 1fr; }
}

/* ===== (추가) 모바일/반응형 오버라이드: 버튼이 화면 밖으로 나가지 않도록 ===== */

/* 툴바: 줄바꿈 + 데스크톱 상단 sticky */
.mdtpl__toolbar{
    display:flex;
    flex-wrap: wrap;             /* ★ 버튼이 넘치면 자동 줄바꿈 */
    gap:8px;
    align-items:center;
    padding:12px;
    border-bottom:1px solid #eee;
    background:#fff;
    position: sticky;
    top: calc(var(--top-h) + 8px); /* 상단바 바로 아래 고정 */
    z-index: 20;
}

/* 입력/버튼 크기와 유연성 */
.mdtpl__name{
    flex: 1 1 240px;   /* 넓을 땐 길게, 좁아지면 먼저 줄어듦 */
    min-width: 160px;
    height:36px;
    padding:0 10px;
    border:1px solid #ddd; border-radius:8px;
    box-sizing: border-box;
}
.mdtpl__btn,
#tplLoad{
    flex: 0 1 auto;
    min-width: 120px;
    max-width: 100%;
    height:36px;
    padding:0 12px;
    border:1px solid #ddd; border-radius:8px;
    background:#f8f9fb;
    cursor:pointer;
}

/* 재확인: 2컬럼이 강제로 밀리지 않도록 */
.mdtpl__grid{
    display:grid;
    grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
    gap:16px;
}
.mdtpl__left,
.mdtpl__right{ min-width: 0; }

@media (max-width: 768px){
    /* 2컬럼 → 1컬럼 */
    .mdtpl__grid{ grid-template-columns: 1fr; gap:12px; }

    /* 툴바: 하단 sticky 액션바 */
    .mdtpl__toolbar{
        position: sticky;
        top: auto;
        bottom: 0;
        border-top:1px solid #eee;
        border-bottom:none;
        /* top right bottom left (iOS safe-area 반영) */
        padding: 10px calc(12px + env(safe-area-inset-right)) max(10px, env(safe-area-inset-bottom)) calc(12px + env(safe-area-inset-left));
        background: rgba(255,255,255,0.92);
        backdrop-filter: saturate(180%) blur(8px);
        z-index: 30; /* 오버레이/콘텐츠 위 */
        flex-wrap: wrap;
        gap: 8px;
    }

    /* 버튼은 2열로 자연스럽게 줄바꿈 */
    .mdtpl__btn, #tplLoad{ flex: 1 1 45%; min-width: 140px; }
    /* 템플릿 이름 입력은 한 줄 꽉 차게 */
    .mdtpl__name{ flex: 1 1 100%; min-width: 0; }

    /* 액션바에 가려지지 않도록 본문 하단 여백 */
    .content{ padding-bottom: 88px; }
}

/* 극좁은 화면 보호 */
@media (max-width: 360px){
    .mdtpl__toolbar{ overflow-x:auto; -webkit-overflow-scrolling:touch; }
    .mdtpl__toolbar::-webkit-scrollbar{ display:none; }
}

/* 레이아웃 요소가 줄어들 수 있게 */
.mdtpl__toolbar *, .mdtpl__previewHead *, .mdtpl__left, .mdtpl__right { min-width: 0; }


/* 왼쪽 라벨과 오른쪽 헤더를 동일 규격으로 */
.mdtpl__label,
.mdtpl__previewHead{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:8px;

    padding:10px 12px;
    margin:0 0 10px;

    background:var(--md-head-bg);
    border:1px solid var(--md-head-bd);
    border-radius:8px;

    min-height:40px;
    box-sizing:border-box;
}

/* 타이틀 텍스트 규격(좌/우 동일) */
.mdtpl__label, .mdtpl__previewHead > span{
    font-size:14px;
    font-weight:600;
    color:var(--md-head-fg);
    margin-top: 15px;
}

/* 버튼은 오른쪽 끝 정렬 유지 */
.mdtpl__previewHead .mdtpl__btn{
    margin-left:auto;
}
